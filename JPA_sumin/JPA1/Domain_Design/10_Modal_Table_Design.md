# 도메인 분석 설계

## 도메인 모델과 테이블 설계
- 회원, 주문, 상품의 관계
    - 주문과 상품 : 다대다 관계
        - 그러나 다대다 관계는 관계형 데이터베이스는 물론이고 엔티티에서도 거의 사용하지 않음
    - 주문 - 주문상품 - 상품 : 일대다 , 다대일 관계로 수정
- 상품 분류 : 상속 구조로 표현

### 회원 엔티티 분석
참고

```
회원이 주문을 하기 때문에 회원이 주문리스트를 가지는 것은 얼핏 보면 잘 설계한 것 같지만,
객체 세상은 실제 세계와는 다름. 실무에서는 회원이 주문을 참조하지 않고, 주문이 회원을 참조하는 것으로 
충분함. 여기서는 일대다, 다대일의 양방향 연관관계를 설명하기 위해 사용자 엔티티에 주문 List를 추가했음
```

### 회원 테이블 분석
- Category, item의 경우 원래는 다대다 관계이나, 
관계형 데이터베이스에서는 다대일, 일대다 관계로 풀어서 설계하는 것이 일반적이므로 중간에 Category_item
  테이블을 두었음.
  
### 연관관계 매핑 분석
- 회원과 주문 : 일대다, 다대일 양방향 관계. 외래키가 있는 쪽(여기서는 주문)이 항상 다가 되고,
    외래키가 연관관계의 주인이 됨. 그러므로 Order.member를 Orders.Member_Id와 매핑함
- 주문상품과 주문 : 다대일 양방향. 외래키가 주문 상품에 있기 때문에 주문 상품이 연관관계의 주인임. 
- 주문상품과 상품 : 다대일 단방향. 
- 주문과 배송 : 일대일 단방향. 
- 참고
    ``` 
    연관관계의 주인은 단순히 외래 키를 누가 관리하냐의 문제임.
    ```


    